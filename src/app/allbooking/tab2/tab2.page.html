<ion-header class="ion-no-border">
  <ion-toolbar class="toolbar" slots="start" >
    <ion-buttons slot="start" size="large">
      <ion-menu-button autoHide="false">
        <ion-icon src="../../assets/icon/menu.svg"></ion-icon>
      </ion-menu-button>
    </ion-buttons>
    <ion-buttons slot="end" size="large">
      <ion-menu-button auto-hide="false">
        <app-notification></app-notification>
      </ion-menu-button>
    </ion-buttons>
    <ion-title>Payment</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <!-- <ion-card class="detailbookingcard">
    <ion-card-header>
      <ion-card-subtitle  color="primary">View Booking</ion-card-subtitle>
      <ion-card-title color="primary">{{get_all_bookings_api["project_name"]}} {{get_all_bookings_api["wingName"]}} {{get_all_bookings_api["flatNo"]}}</ion-card-title>
    </ion-card-header>

    <ion-card-content>
      <b>Unit type</b> : {{get_all_bookings_api["unit_type"]}} <br>
      <b>Floor</b> : {{get_all_bookings_api["floor"]}}<br>
      <b>Saleable Area</b> : {{get_all_bookings_api["saleableArea"]}} sq. ft<br>
      <b>Rera Area</b> : {{get_all_bookings_api["reraArea"]}} sq. mt <br>
      <b>Booking Date</b> : {{get_all_bookings_api["booking_date"]}}<br><br>
    </ion-card-content>
  </ion-card> -->

  <ion-item>
    <h4 style="color:#0077BD"><u>Payment Schemes</u></h4>
  </ion-item>

  <ion-card style=" margin: 0px !important; overflow-x:auto">
    <ion-card-content>
      <table class="table table-striped">
        <thead class="bg-primary text-white text-center">
          <tr>
            <th scope="col">Terms                                        </th>
            <th scope="col">Percentage                                    </th>
            <th scope="col">Basic Amount                                        </th>
            <th scope="col">Due Date                                 </th>
            <th scope="col">Amount Received                               </th>
            <th scope="col">Outstanding                           </th>
            <th scope="col">Due                               </th>
            <th scope="col">Interest Amount                               </th>
          </tr>
        </thead>
        <tbody>
         <tr *ngFor=" let item of booking_payment_detail_master_api; let i = index">
          <td>{{item["terms"]}}</td>
          <td>{{item["percentage"]}}%</td>
          <td>{{item["amount"]}}</td>
          <td>{{datastoreservice.showZeroForDate(item["due_date"])}}</td>
          <td>{{item["received"]}}</td>
          <td>{{datastoreservice.calotherchargesbalance(item["received"], item["amount"])}}</td>
          <td>{{datastoreservice.showZeroForReg(item["due_amount"])}}</td>
          <td>{{datastoreservice.showZeroForReg(interest_amount)}}</td>
         </tr>
         <tr >
          <td>Total:- </td>
          <td></td>
          <td>{{totalBasicAmountOfPaymentScheme}}</td>
          <td></td>
          <td>{{totalAmountReceivedPaymentScheme}}</td>
          <td></td>
          <td>{{totalDuePaymentScheme}}</td>
          <td></td>
         </tr>
        </tbody>
      </table>
    </ion-card-content>
  </ion-card><br>

  <ion-item>
    <h4 style="color:#0077BD"><u>Payment Receipts</u></h4>
  </ion-item>

  <!-- <mat-accordion>
    <mat-expansion-panel class="expansioncard"  *ngFor="let item of get_all_payments_api">
      <mat-expansion-panel-header>
        <mat-panel-title style="color: #00778D;">
          ID: {{item["payment_id"]}}
        </mat-panel-title>
        <mat-panel-description>
        </mat-panel-description>
      </mat-expansion-panel-header>
      <div>
        <table class="table table-borderless customtablestyle">
          <tbody>
            <tr>
              <th>Bank Name:</th>
              <td>{{item["bankName"]}}</td>
            </tr>
            <tr>
              <th>Bank Branch:</th>
              <td>{{item["bankBranch"]}}</td>
            </tr>
            <tr>
              <th>Payment Mode:</th>
              <td>{{item["payment_mode"]}}</td>
            </tr>
            <tr>
              <th>Receipt Date:</th>
              <td>{{item["receipt_date"]}}</td>
            </tr>
            <tr>
              <th>Cheque Date:</th>
              <td>{{item["cheque_date"]}}</td>
            </tr>
            <tr>
              <th>Cheque  No.:</th>
              <td>{{item["cheque_number"]}}</td>
            </tr>
            <tr>
              <th>Basic Amount:</th>
              <td>-</td>
            </tr>
            <tr>
              <th>CGST:</th>
              <td>-</td>
            </tr>
            <tr>
              <th>SGST:</th>
              <td>-</td>
            </tr>
            <tr>
              <th> GST Amount:</th>
              <td></td>
            </tr>
            <tr>
              <th>Print Date:</th>
              <td>{{item["cheque_number"]}}</td>
            </tr>
            <tr>
              <th>Note:</th>
              <td>{{item["notes"]}}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </mat-expansion-panel><br>
  </mat-accordion> -->

  <ion-card style=" margin: 0px !important; overflow-x:auto">
    <ion-card-content>
      <table class="table table-striped">
        <thead class="bg-primary text-white text-center">
          <tr>
            <th scope="col">Sr. No.                                        </th>
            <th scope="col">Receipt ID	                                    </th>
            <th scope="col">Receipt Date	                                       </th>
            <th scope="col">Payment mode                                </th>
            <th scope="col">Cheque Date	                               </th>
            <th scope="col">Cheque No.                           </th>
            <th scope="col">Bank Name                               </th>
            <th scope="col">CGST                               </th>
            <th scope="col">SGST                               </th>
            <th scope="col">GST Amount                               </th>
            <th scope="col">Print Date                               </th>
            <th scope="col">Notes                               </th>
          </tr>
        </thead>
        <tbody>
         <tr *ngFor="let item of get_all_payments_api.slice().reverse(); let i = index">
          <td>{{i + 1}}</td>
          <td>{{item["payment_id"]}}</td>
          <td>{{datastoreservice.showZeroForDate(item["receipt_date"])}}</td>
          <td>{{datastoreservice.showNan(item["payment_mode"])}}</td>
          <td>{{datastoreservice.showZeroForDate(item["cheque_date"])}}</td>
          <td>{{datastoreservice.showNan(item["cheque_number"])}}</td>
          <td>{{item["bankName"]}}</td>
          <td>-</td>
          <td>-</td>
          <td>-</td>
          <td>{{datastoreservice.showZeroForDate(item["printDate"])}}</td>
          <td>{{datastoreservice.showZeroForDate(item["notes"])}}</td>
         </tr>

        </tbody>
      </table>
    </ion-card-content>
  </ion-card><br>

  <ion-item>
    <h4 style="color:#0077BD"><u>Payment Voucher</u></h4>
  </ion-item>

  <mat-accordion *ngFor="let item of get_all_vouchers_api">
    <mat-expansion-panel>
      <mat-expansion-panel-header>
        <mat-panel-title style="color: #00778D;">
          Voucher ID : <b>482</b>
        </mat-panel-title>
        <mat-panel-description>
        </mat-panel-description>
      </mat-expansion-panel-header>
      <div>
        <table class="table table-borderless customtablestyle">
          <tbody>
            <tr>
              <th>Voucher Date:</th>
              <td>-</td>
            </tr>
            <tr>
              <th>Voucher Mode:</th>
              <td>-</td>
            </tr>
            <tr>
              <th>Cheque Date:</th>
              <td>-</td>
            </tr>
            <tr>
              <th>Cheque no.:</th>
              <td>-</td>
            </tr>
            <tr>
              <th>Bank Name:</th>
              <td>-</td>
            </tr>
            <tr>
              <th>Bank Amount:</th>
              <td>0.00</td>
            </tr>
            <tr>
              <th>CGST:</th>
              <td>-</td>
            </tr>
            <tr>
              <th>GST Amount:</th>
              <td>0.00</td>
            </tr>
            <tr>
              <th>Print Date:</th>
              <td>-</td>
            </tr>
            <tr>
              <th>Note:</th>
              <td>-</td>
            </tr>
          </tbody>
        </table>
      </div>
    </mat-expansion-panel><br>
  </mat-accordion>


  <ion-item>
    <h4 style="color:#0077BD"><u>Demand Letter</u></h4>
  </ion-item>

  <mat-accordion *ngFor="let item of demand_api">
    <mat-expansion-panel>
      <mat-expansion-panel-header>
        <mat-panel-title style="color: #00778D;">
          Demand ID : <b>{{item.demand_id}}</b>
        </mat-panel-title>
        <mat-panel-description>
        </mat-panel-description>
      </mat-expansion-panel-header>
      <div>
        <table class="table table-borderless customtablestyle">
          <tbody>
            <tr>
              <th>Demand Date:</th>
              <td>{{item.created_at}}</td>
            </tr>
            <tr>
              <th>Percentage:</th>
              <td>{{item.percentage}}</td>
            </tr>
            <tr>
              <th>Outstanding:</th>
              <td>{{item.outstanding}}</td>
            </tr>
            <tr>
              <th>Received.:</th>
              <td>{{item.received}}</td>
            </tr>
            <tr>
              <th>Total Due:</th>
              <td>{{item.totalDue}}</td>
            </tr>
            <tr>
              <th>Action:</th>
              <td>0.00</td>
            </tr>
           
          </tbody>
        </table>
      </div>
    </mat-expansion-panel><br>
  </mat-accordion>


  

  

</ion-content>
